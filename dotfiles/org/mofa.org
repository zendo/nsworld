#+STARTUP: show2levels indent hidestars

* sing-box
Windows Tun é˜²ç«å¢™é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨è¿è¡Œä¸€æ¬¡æç¤ºæ”¾è¡Œï¼š
gsudo sing-box run -c coonfig.json

#+begin_src bash
jq 'del(.inbounds[] | select(.type == "tun"))' feiji.json > config.json
sing-box merge -c feiji.json -c sb-tun.json config.json
journalctl -u sing-box -f --output=cat
sudo lsof -i :7890
netstat -ano | findstr :7890 // windows
#+end_src

** GUI.for.SingBox
æ—¥å¿—æ—¶é—´æˆ³ / apiåœ°å€ 9090 / apiå¯†é’¥ 1984 / uiè·¯å¾„ ui / å…è®¸ç§æœ‰ç½‘ç»œè®¿é—®
https://gh-proxy.com/https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip
mixed-in ç›‘å¬åœ°å€æ”¹ :: 7890
å‡ºç«™è®¾ç½®ï¼šğŸš€ èŠ‚ç‚¹é€‰æ‹© ğŸˆ è‡ªåŠ¨é€‰æ‹© åˆ†åˆ«é€‰æ‹©è®¢é˜…èŠ‚ç‚¹
è·¯ç”±è®¾ç½®â€”â€”è§„åˆ™ï¼šåˆ é™¤ reject quic

"route" - "rules" åŠ åœ¨åé¢
#+begin_src json
      {
        "action": "route",
        "domain_suffix": [
          "beacondb.net",
          "ip-api.com"
        ],
        "outbound": "ğŸ¯ å…¨çƒç›´è¿"
      }
#+end_src

** providers
outbounds â€”â€” èŠ‚ç‚¹é€‰æ‹©å’Œè‡ªåŠ¨é€‰æ‹©åˆ†åˆ«æ·»åŠ ï¼š

#+begin_src json
"outbounds" æ›¿æ¢æˆï¼š
"use_all_providers": true
#+end_src

#+begin_src json
  "providers": [
    {
      "type": "remote",
      "tag": "sub1",
      "url": "",
      "user_agent": "mihomo",
      "health_check": {
        "enabled": true,
        "url": "https://cp.cloudflare.com/generate_204"
      }
    }
  ],
#+end_src

** Links
https://sing-box.sagernet.org/zh/configuration/
https://icloudnative.io/posts/sing-box-tutorial/
https://github.com/Toperlock/sing-box-subscribe æ¨¡æ¿
https://linux.do/t/topic/938696 gui-for-singbox æ•™ç¨‹

* sub-store

å®‰è£…ï¼š
#+begin_src bash
wget https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store.bundle.js
wget https://github.com/sub-store-org/Sub-Store-Front-End/releases/latest/download/dist.zip && unzip dist.zip && rm dist.zip && mv dist frontend
pushd ~/code/sub/sub-store > /dev/null && xdg-open http://127.0.0.1:3000 ; node sub-store.bundle.js & ; popd > /dev/null
#+end_src

æ–‡ä»¶ç®¡ç† - åˆ›å»ºæ–‡ä»¶ - config.jsonc
æ¨¡æ¿ï¼šhttps://raw.githubusercontent.com/zendo/nsworld/refs/heads/main/dotfiles/mofa/sing-box-template.json
å•æ¡è®¢é˜…è„šæœ¬ï¼š
https://raw.githubusercontent.com/xream/scripts/main/surge/modules/sub-store-scripts/sing-box/template.js#name=wcloud&outbound=ğŸ•³â„¹ï¸all|all-autoğŸ•³â„¹ï¸ğŸˆ è‡ªåŠ¨é€‰æ‹©ğŸ•³â„¹ï¸ğŸš€ èŠ‚ç‚¹é€‰æ‹©
ç»„åˆè®¢é˜…è„šæœ¬ï¼š
https://raw.githubusercontent.com/xream/scripts/main/surge/modules/sub-store-scripts/sing-box/template.js#type=ç»„åˆè®¢é˜…&name=all&outbound=ğŸ•³â„¹ï¸all|all-autoğŸ•³â„¹ï¸ğŸˆ è‡ªåŠ¨é€‰æ‹©ğŸ•³â„¹ï¸ğŸš€ èŠ‚ç‚¹é€‰æ‹©

æ‰“å¼€ï¼šhttp://127.0.0.1:3001/subs
ä¸‹è½½ï¼šcurl -O http://127.0.0.1:3000/api/file/config.json

æ•™ç¨‹ï¼šhttps://surge.tel/08/2930
